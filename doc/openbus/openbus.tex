%
%  OpenBus 2.0
%
%  Created by Hugo Roenick on 2012-05-22.
%  Copyright (c) 2012 Tecgraf/PUC-Rio. All rights reserved.
%
\documentclass[]{article}

% Use utf-8 encoding for foreign characters
\usepackage[latin1]{inputenc}

\usepackage[brazil]{babel}

% Setup for fullpage use
\usepackage{fullpage}

% Uncomment some of the following if you use the features
%
% Running Headers and footers
%\usepackage{fancyhdr}

% Multipart figures
%\usepackage{subfigure}

% More symbols
%\usepackage{amsmath}
%\usepackage{amssymb}
%\usepackage{latexsym}

\usepackage{hyperref}

% Surround parts of graphics with box
\usepackage{boxedminipage}

% Package for including code in the document
\usepackage{../mwlabinputs2}

% If you want to generate a toc for each chapter (use with book)
\usepackage{minitoc}

% This is now the recommended way for checking for PDFLaTeX:
\usepackage{ifpdf}

%% Redefines the label 'Listing' for ..
\def\lstlistingname{Código}
\codestyle{colorful}

% new commands
\newcommand{\term}[1]{\textit{#1}}
\newcommand{\code}[1]{\texttt{#1}}

\newcommand{\openbus}{\textsc{OpenBus}}
\newcommand{\corba}{\textsc{CORBA}}
\newcommand{\orb}{\textsc{ORB}}
\newcommand{\scs}{\textsc{SCS}}
\newcommand{\lua}{\textsc{Lua}}
\newcommand{\oil}{\textsc{OiL}}
\newcommand{\version}{2.0.0}


%\newif\ifpdf
%\ifx\pdfoutput\undefined
%\pdffalse % we are not running PDFLaTeX
%\else
%\pdfoutput=1 % we are running PDFLaTeX
%\pdftrue
%\fi

\ifpdf
\usepackage[pdftex]{graphicx}
\else
\usepackage{graphicx}
\fi

\title{Manual de referência do \openbus{} \version{}}
\author{TecGraf}

\date{\today}

\begin{document}

\ifpdf
\DeclareGraphicsExtensions{.pdf, .jpg, .tif}
\else
\DeclareGraphicsExtensions{.eps, .jpg}
\fi

\maketitle

\tableofcontents


\section{Introdução}

Este documento tem como objetivo apresentar o \openbus{} \version{} e seus conceitos principais.
Nesta seção introdutória apresentaremos uma definição do projeto e os motivadores para o seu uso.
Na seção~\ref{sec:architecture} apresentamos a arquitetura do sistema, e entramos um pouco mais em detalhes de como ocorre a comunicação dentro do barramento na seção~\ref{sec:communication}.
Em seguida, na seção~\ref{sec:perspectives} falamos um pouco mais sobre o projeto de acordo com a visão de cada tipo de usuário, e, por fim, na seção~\ref{sec:glossary} apresentamos um glossário com os conceitos principais do projeto.

\subsection{O que é ?}
O \openbus{}~\cite{web:OPENBUS} é uma arquitetura aberta e orientada a serviços (\emph{Service-Oriented Architecture}, ou SOA~\cite{erl2005service}) para integrar, de forma segura, dados e aplicações heterogêneas de domínios distintos ou não.
A arquitetura é baseada em um \emph{barramento} em que os usuários se conectam para consumir ou prover serviços.

\subsection{Por que utilizar o \openbus{}?}
Quando há necessidade de integração entre aplicações, algumas soluções podem ser apresentadas conforme a complexidade do ambiente a ser integrado.
Caso o problema se resuma a troca de dados entre as aplicações, uma primeira solução é a integração externa, que consiste na exportação do dado em um determinado formato padronizado que possa ser carregado pela aplicação de destino.
Este processo é normalmente manual, deixando a cargo do usuário, ou do \emph{job} que automatiza o processo, a responsabilidade pela sua execução.
Um outro problema é a possibilidade de ocorrer perda de informação quando o formato padrão utilizado não consegue representar corretamente o dado de origem. 

As opções de soluções disponíveis para a integração, podem ser ampliadas quando há a presença de aplicações de código aberto ou que ofereçam interfaces de programação.
Para estes casos, uma integração programática pode ser realizada de forma direta, através de uma implementação que permita ao usuário comandar a transferência de dados.
Este modo de interação agrega mais qualidade, diminuindo as chances de perda de informação durante a transferência do dado, pois os metadados das aplicações envolvidas podem ser considerados.
Além da troca de dados, há a possibilidade de troca de mensagens entre as aplicações.
O problema desta solução é que uma ponte deve ser desenvolvida para cada par de aplicações, o que resulta em um número quadrático de codificações de pontes em relação ao número de aplicações.
Por exemplo, para integrar 10 aplicações precisamos implementar 45 pontes.
Além disso, a troca de mensagens é naturalmente limitada entre cada par de aplicações.

Os problemas apresentados acima pela programática direta, podem ser eliminados com a adoção de uma plataforma comum de integração entre aplicações.
Como por exemplo um \emph{barramento}, em que cada aplicação se conecta a este, segundo um protocolo próprio deste barramento, e carrega ou exporta dados para outras aplicações também conectadas ao barramento.
Essa arquitetura define uma linguagem comum entre todas as aplicações, e, induz o compartilhamento de interfaces bem definidas para os serviços comuns entre as aplicações envolvidas.
Desta forma o esforço de codificação das pontes pode ser reduzido para um esforço linear, ou seja, para se integrar \emph{n} aplicações, \emph{n} pontes são necessárias.
No mais, a troca de mensagens dinâmicas entre todas as aplicações passa a ser possível, possibilitando um ambiente de colaboração entre as aplicações.

\section{Arquitetura}\label{sec:architecture}

O \openbus{} é um sistema que pode ser essencialmente divido em três partes: o barramento, os serviços núcleo, e os serviços extras.
A figura~\ref{fig:architecture}, apresenta a arquitetura do \openbus{} e suas partes principais. 
Entraremos em detalhes sobre as partes principais do \openbus{} nas subseções a seguir.

\begin{figure} [htb]
\centering
\includegraphics[width=0.9\textwidth]{./figs/openbus.pdf}
\caption{Arquitetura do \openbus{}}
\label{fig:architecture}
\end{figure}

\subsection{Barramento}\label{subsec:barramento}

O barramento serve como o meio de comunicação do sistema, sendo responsável pela validação do acesso ao sistema, e por permitir a comunicação entre os serviços e as aplicações.
O barramento é composto por um serviço de Controle de Acesso e pelo uso do \emph{middleware} \corba{}~\cite{omg08corbaspec}, com os quais especifica um protocolo de acesso.

O Controle de Acesso serve como ponto de entrada do barramento, sendo responsável por autenticar, renovar e gerenciar os logins de serviços e aplicações ao barramento. 
A autenticação de login é uma verificação realizada no estabelecimento de um login que permite associá-lo a uma dada entidade.
A autenticação pode ser feita através de uma senha (login por senha), certificado previamente registrado no barramento (login por certificado), ou através do compartilhamento de uma autorização de um login previamente estabelecido (login por single sign-on).

O resultado da autenticação é a criação de um login, que representa uma autenticação de uma entidade junto ao barramento para poder acessá-lo. 
Todo login possui um tempo de validade (lease), no qual permanecerá válido sem necessidade de renovação, mas deve ser renovada para que não expire. 
Contudo, um login pode ser invalidado explicitamente por um administrador antes do tempo de lease.

O \emph{middleware} \corba{} (\emph{Common Object Request Broker Architecture}) é a especificação de um padrão de \orb{} sobre a qual o \openbus{} é definido e implementado, e é a tecnologia adotada para prover suporte à comunicação de objetos distribuídos em múltiplas linguagens.
O \openbus{} pode ser visto como uma extensão do padrão \corba{}.

Por sua vez, o protocolo de acesso é o conjunto de regras para realização de chamadas \corba{} através de um barramento \openbus{}, que foi introduzido na versão \version{} do \openbus{}.
O principal objetivo desse protocolo é garantir um nível adequado de segurança das chamadas que permita assegurar a identidade da entidade que iniciou cada chamada realizada através do barramento.
Maiores informações sobre o protocolo podem ser encontradas no documento de especificação do protocolo~\cite{ob2.0protospec}.

Para facilitar o trabalho de integração de serviços e aplicações no barramento, oferecemos uma biblioteca de acesso~\cite{sdk2.0.0-cpp,sdk2.0.0-csharp,sdk2.0.0-java,sdk2.0.0-lua}, que implementa o protocolo de acesso e exporta uma interface de programação (API). 
A biblioteca de acesso é implementada nas linguagens: C++, C\#, Java e Lua.

\subsection{Serviços Núcleo}

Serviços Núcleo são os serviços oferecidos pelo próprio barramento, tipicamente acessados através da API (\emph{Application Program Interface}), que é a interface de programação oferecida às aplicações que precisam acessar o barramento, seja para fazer ou receber chamadas através do barramento, ou acessar serviços oferecidos pelo barramento.

Atualmente o barramento possui apenas um serviço núcleo, que é o Registro de Ofertas. 
Através dele é possível registrar e buscar serviços oferecidos no barramento, além de permitir a inscrição observadores de registros de ofertas.

\subsubsection{Registro de Ofertas}

O Registro de Ofertas é um serviço núcleo do barramento, que permite que entidades publiquem e busquem ofertas de serviços no barramento.
Uma oferta de serviço corresponde a um cadastro no Registro de Ofertas de um conjunto de propriedades e um componente \scs{}~\cite{web:SCS}, que implementa um conjunto de interfaces que representam um dado serviço a ser utilizado através do barramento.

Uma propriedade da oferta corresponde a um par de nome e valor, que ao registrar uma oferta de serviço no barramento, a entidade pode definir um conjunto de propriedades correspondentes à oferta, que poderão ser utilizadas como critério de filtro no momento de buscar por ofertas de serviço no Registro de Ofertas.
Toda oferta publicada no barramento possui um conjunto de propriedades geradas automaticamente, como a data do registro, a entidade que publicou a oferta, a versão do componente, entre outras.

O Registro de Ofertas também disponibiliza um mecanismo de observação de publicação, atualização e remoção de ofertas.
Maiores detalhes sobre a especificação e o uso do serviço de Registro de Ofertas podem ser encontrados nos seu manuais de uso das bibliotecas de acesso~\cite{sdk2.0.0-cpp,sdk2.0.0-csharp,sdk2.0.0-java,sdk2.0.0-lua}


\subsection{Serviços Extras}

A categoria de Serviços Extras define os serviços acrescentam funcionalidades para auxiliar a integração entre serviços e aplicações, mas que não são parte do núcleo do barramento.
Não é obrigatória a presença desses serviços em uma instância do barramento.

Nesta versão atual do \openbus{} disponibilizamos apenas um serviço extra: o Serviço de Colaboração.
Esse serviço tem como principais funcionalidades:

\begin{itemize}
  \item criar e compartilhar uma sessão de colaboração
  \item oferecer um canal de comunicação para enviar eventos para todos os membros da sessão
\end{itemize} 

Não entraremos em maiores detalhes sobre as funcionalidades e o uso do Serviço de Colaboração neste documento. Para mais informações, consulte o manual do serviço~\cite{collaboration1.0}.

\section{Comunicação no \openbus{}}\label{sec:communication}

Dado que o barramento serve como uma solução de integração, isso quer dizer que todas as chamadas entre serviços e aplicações integradas serão interceptadas pelo barramento?
A resposta é não!

Vamos explicar então como ocorre a comunicação dentro do barramento, utilizando como exemplo um cenário onde temos um serviço para publicar no barramento e uma aplicação que vai utilizar o serviço publicado.
Iremos dividir esse cenário em duas fases, explicando a seqüência de interação que ocorre dentro das mesmas. 

A primeira fase, ilustrada pela figura~\ref{fig:begin-comm}, corresponde ao processo de realização do login, publicação e busca do serviço publicado no barramento.
Primeiro o serviço realiza o login no barramento, e com o sucesso no login, ele pode publicar o serviço a ser ofertado no Registro de Ofertas.
Então a aplicação realiza também o login no barramento, e pode buscar pelo serviço no barramento, também através do Registro de Ofertas.
Caso as propriedades especificadas na busca correspondam as especificadas no registro, a oferta é encontrada e a aplicação consegue obter uma referência para a mesma.

\begin{figure} [htb!]
\centering
\includegraphics[width=0.5\textwidth]{./figs/comunicacao-inicio.pdf}
\caption{Esquema demonstrando como ocorre o início de uma integração entre duas entidades através do barramento.}
\label{fig:begin-comm}
\end{figure}

Começa então a segunda fase, ilustrada pela figura~\ref{fig:direct-comm}, que é caracterizada pela comunicação direta entre a aplicação e o serviço publicado no barramento.
Neste cenário, a aplicação atua como o cliente, e o serviço ofertado como o servidor.
O cliente então faz uma requisição para o servidor, e a primeira coisa que o servidor irá fazer é verificar se o cliente que faz a requisição possui um login válido.
Se o login for válido, o servidor então pode atender a requisição.

Essa descrição que apresentamos é uma visão bem simplificada do que realmente acontece, dado que o usuário que faz uso da biblioteca de acesso~\cite{sdk2.0.0-cpp,sdk2.0.0-csharp,sdk2.0.0-java,sdk2.0.0-lua} não precisa se preocupar com esses detalhes, pois as bibliotecas de acesso se encarregam de respeitar e implementar todo o protocolo~\cite{ob2.0protospec} necessário para que a comunicação seja segura e correta.
Na próxima vez que o mesmo cliente falar com o mesmo servidor, o servidor não precisará necessariamente realizar uma chamada remota para o barramento, caso as informações necessárias para validar a requisição ainda estejam válidas e presentes no caches das bibliotecas.

\begin{figure} [htb!]
\centering
\includegraphics[width=0.5\textwidth]{./figs/comunicacao-direta.pdf}
\caption{Esquema demostrando como ocorre a comunicação entre duas entidades no barramento.}
\label{fig:direct-comm}
\end{figure}

\section{Perspectivas}\label{sec:perspectives}

Agora que já apresentamos a arquitetura e os conceitos gerais do \openbus{}, iremos falar um pouco sobre algumas características específicas do \openbus{}, que dependem do papel que o usuário tem no barramento.

O \openbus{} não traz para a sua implementação uma distinção entre administrador e gerente do barramento.
Ambos desempenham papéis de administração.
Porém, entendemos que nem sempre o administrador do barramento também irá gerenciar o barramento. Logo, vamos separar esses dois conceitos e apresentar os conceitos do barramento que competem a cada um desses perfis.

\subsection{\openbus{} para Administradores}

Esta seção apresenta alguns conceitos que são importantes para os administradores do barramento, onde por administradores consideramos as pessoas que possuem acesso a máquina onde o barramento será executado e são os responsáveis por levantar e parar o barramento.

O barramento e os serviços núcleo são distribuídos em um mesmo programa, o \emph{busservice}. Logo, para disparar o barramento, basta executar o programa passando as suas configurações por linha de comando ou por arquivo de configuração.
Se uma configuração não for explicitada, será utilizado o seu valor padrão.

As opções de configuração são:
\begin{description}
  \item [-host] Endereço de rede usado pelo barramento.\\
Valor padrão é ``*", que significa que vai ouvir em todos os IPs da máquina.
  \item [-port] Número da porta usada pelo barramento.\\
Valor padrão é 2089.

  \item [-database] Arquivo de dados do barramento.\\
Valor padrão é ``openbus.db".
  \item [-certificate] Arquivo com certificado do barramento.\\
Valor padrão é ``openbus.crt"
  \item [-privatekey] Arquivo com chave privada do barramento.\\
Valor padrão é ``openbus.key"

  \item [-leasetime] Tempo em segundos de lease dos logins de acesso.\\
Valor padrão é 180 segundos.
  \item [-expirationgap] Tempo em segundos que os logins ficam válidos após o lease.\\
Valor padrão é 10 segundos. 

  \item [-admin] Usuário com privilégio de administração.\\
Não é definido um valor padrão.
  \item [-validator] Nome de pacote de validação de login.\\
Não é definido um valor padrão.

  \item [-loglevel] Nível de log gerado pelo barramento.\\
O valor padrão é 3. Os níveis vão de 0 a 5, onde 5 é o nível com mais detalhes, e o 0 desativa o log.
  \item [-logfile] Arquivo de log gerado pelo barramento.\\
Não é definido um valor padrão.
  \item [-oilloglevel] Nível de log gerado pelo \oil{}~\cite{maia06oil,web:oil} (debug).\\
  O valor padrão é 0. Os níveis vão de 0 a 5, onde 5 é o nível com mais detalhes, e o 0 desativa o log.
  \item [-oillogfile] Arquivo de log gerado pelo \oil{} (debug).\\
  Não é definido um valor padrão.

  \item [-noauthorizations] Desativa o suporte a autorizações de oferta.
  \item [-nolegacy] Desativa o suporte à versão antiga do barramento.

  \item [-configs] Arquivo de configurações adicionais do barramento.\\
O valor padrão é ``openbus.cfg".
\end{description}

As opções ``admin" e ``validator" podem receber mais de um valor.
Quando essas opções são configuradas por linha de comando, basta repetir a opção o número de vezes desejadas.
Quando são configuradas através do arquivo de configuração, é necessário informar a lista de valores desejados, no formato de uma tabela \lua{}~\cite{web:lua}.
O código~\ref{lst:openbus.cfg} apresenta um exemplo de arquivo do configuração.

\begin{samplelisting}[language=lua]{openbus.cfg}{Exemplo de arquivo de configuração.}
validator = {"openbus.test.core.services.TesterUserValidator"}
loglevel = 5 
admin = {"admin1", "admin2"}
leasetime = 30
\end{samplelisting}

Existem duas formas de se definir o arquivo de configuração que o programa irá utilizar: utilizando a opção ``config'' por linha de comando, ou definindo um valor para a variável de ambiente \emph{OPENBUS\_CONFIG}.
O \emph{busservices} foi pensado para que as opções passadas por linha de comando tenham prioridade sobre as opções definidas no arquivo de configuração.

Através da opção ``validator'' informa-se o módulo do validador de senhas que será utilizado pelo barramento. 
Disponibilizamos em \texttt{openbus.core.services.passwordvalidator.LDAP} um validador LDAP, que precisa ser configurado com a lista de servidores utilizados na autenticação. Para maiores informações como configurar o validador LDAP, consulte~\cite{ob2.0ldap} [VERIFICAR COM AMADEU JR.].
% TODO: verificar com Amadeu JR.

%% NOTE: comentado parte que falava sobre o validador de teste: 
% e em \\\texttt{openbus.test.core.services.TesterUserValidator} disponibilizamos um validador para ambientes de teste, que permite acesso quando o login é igual a senha.

O barramento possui algumas características importantes e devem ser mencionadas.
Uma delas, é que o barramento procura persistir todo o seu estado no diretório de dados (definido através da opção ``database'').
Dessa forma, sempre que ele é iniciado, e o mesmo já possui uma base de dados populada, esses dados serão recarregados e farão parte do estado inicial do barramento.

Outra característica importante é que o barramento mantém compatibilidade com a API da versão imediatamente anterior.
Ou seja, mesmo que a versão do barramento evolua, os clientes (serviços e aplicações) ainda conseguem acessar o barramento utilizando bibliotecas de acesso de uma versão anterior.
O \openbus{} utiliza um esquema de versionamento com quatro números, no formato \emph{A.B.C\_D}, onde:

\begin{itemize}
  \item Campos \textbf{A} e \textbf{B} significam a versão da IDL e deve ser igual em todos os pacotes que são compatíveis: versão IDL, barramento e bibliotecas de acesso.
  \item Campo \textbf{C} é incrementado quando ocorre alguma modificação na API interna.
  \item Campo \textbf{D} representa uma versão apenas com correções de falhas.
\end{itemize}

Sendo assim, o barramento 2.0 permite a realização de acesso utilizando as bibliotecas de acesso de versão 1.5.x, onde \emph{x} pode assumir qualquer valor de \emph{C\_D}.
Porém, é importante deixar claro que versão 2.0 traz muitas melhorias no quesito de segurança, e essas melhorias não serão usufruídas por clientes que acessam o barramento com versões antigas das bibliotecas de acesso.
O barramento permite que clientes 1.5 se comuniquem com clientes 2.0, e vice-e-versa, porém essas comunicações se realizam com o mesmo nível de segurança que existia na versão 1.5 do barramento.
Esse suporte de compatibilidade com a versão anterior pode ser desabilitado através da opção ``nolegacy''.

\subsection{\openbus{} para Gerentes do Barramento}

Consideramos gerentes do barramento aqueles que irão desempenhar o papel de organizar e acompanhar o que é publicado no barramento.
Para desempenhar esse papel, disponibilizamos a ferramenta \emph{busadmin}, que permite que se realize atividades de governança (administração) sobre o barramento.

Antes de entrar em detalhes sobre o uso e as funcionalidades do \emph{busadmin}, vamos agora apresentar alguns conceitos importantes de governança dentro do \openbus{}.
Existem os conceitos de:
\begin{description}

  \item[Categoria] Representa uma categoria de entidades no barramento.
  Categorias de entidade são agrupamentos usados exclusivamente para facilitar a gerência das diversas entidades cadastradas no barramento pelo administrador.

  \item[Entidade] Representa uma entidade do barramento registrada.
  Entidade é tudo aquilo que pode fazer login no barramento e usufruir dos   recursos do barramento.
  Em particular, tanto usuários humanos como implantações de sistema são considerados entidades.
  Entidades podem ou não ser cadastradas no serviço, mas apenas entidades cadastradas podem ser autorizadas a ofertar serviços.

  \item[Certificado] Chave pública que pode ser usado para autenticar uma
dada entidade no barramento.
  É possível adicionar certificados para entidades não cadastradas no barramento.

  \item[Interface] Definição de uma interface IDL de um serviço que pode ser ofertado no barramento.

  \item[Autorização] Associação de uma interface IDL a uma entidade, indicando que processos conectados como essa entidade possam oferecer serviços que implementem essa interface no Registro de Ofertas do barramento.

\end{description}

Para utilizar a ferramenta, deve-se executar:
\begin{verbatim}
busadmin [opções] --login=<usuário> <comando>
\end{verbatim} 

Para adicionar e remover categorias, entidades, certificados, interfaces e autorizações, aconselhamos que se defina um arquivo de script \lua{} com o formato especificado no código~\ref{lst:openbus.adm}, porque ele serve de entrada para os comandos ``script'' e ``undo-script'' da ferramenta \emph{busadmin}, que executa ou desfaz a execução do lote de comandos especificados pelo arquivo de script.

\begin{samplelisting}[language=lua]{openbus.adm}{Exemplo de script para a ferramenta \emph{busadmin}.}
-- Definição de uma categoria
-- * comando: Category
-- * parâmetros:
--   * id = identificador da categoria
--   * name = descrição da categoria
Category {
  id = "TEST_Category",
  name = "Descrição da categoria",
}
-- Definição de uma entidade
-- * comando: Entity
-- * parâmetros:
--   * id = identificador da entidade
--   * category = identificador da categoria que a entidade pertence
--   * name = descrição da entidade
Entity {
  id = "TEST_Entity",
  category = "TEST_Category",
  name = "Descrição da entidade",
}
-- Definição de um certificado
-- * comando: Certificate
-- * parâmetros:
--   * id = identificador da entidade
--   * certificate = caminho para arquivo de certificado associado a entidade
Certificate {
  id = "TEST_Entity",
  certificate = "teste.crt",
}
-- Definição de uma interface
-- * comando: Interface
-- * parâmetros:
--   * id = repID da interface
Interface {
  id = "IDL:script/Test:1.0"
}
-- Conceder autorização
-- * comando: Grant
-- * parâmetros:
--   * id = identificador da entidade a ser autorizada
--   * interfaces = lista de interfaces a serem autorizadas.
Grant {
  id = "TEST_Entity",
  interfaces = {
    "IDL:script/Test:1.0",
  }
}
-- Remover autorização
-- * comando: Revoke
-- * parâmetros:
--   * id = identificador da entidade
--   * interfaces = lista de interfaces a serem desautorizadas.
Revoke {
  id = "TEST_Entity",
  interfaces = {
    "IDL:script/Test:1.0",
  }
}
\end{samplelisting}

O \emph{busadmin} também permite realizar esses cadastros e descadastros manualmente, além de realizar consultas e outras atividades de gerência do barramento.
A listagem completa dos comandos disponíveis é apresentada a seguir:

\begin{itemize}
  \item \textbf{Configuração:}

\begin{description}
  \item[\texttt{--}host=\textless endereço\textgreater] Informa o endereço do Barramento.\\
  Valor padrão é 127.0.0.1.

  \item[\texttt{--}port=\textless porta\textgreater] Informa a porta do Barramento.\\
  Valor padrão é 2089.

  \item[\texttt{--}verbose=\textless nível\textgreater] Aciona o verbose da API \openbus{}.\\
  Valor padrão é 0.
  Os níveis vão de 0 a 5, onde 5 é o nível com mais detalhes, e o 0 desativa o log.
  
  \item[\texttt{--}oilverbose=\textless nível\textgreater] Aciona o verbose do \oil{}.\\
  Valor padrão é 0.
  Os níveis vão de 0 a 5, onde 5 é o nível com mais detalhes, e o 0 desativa o log.

\end{description}

  \item \textbf{Controle de Categoria:}
\begin{description}

  \item[\texttt{--}add-category=\textless id\textgreater \space
        \texttt{--}name=\textless nome\textgreater] Adiciona uma categoria com o identificador e nome descritivo especificado.

  \item[\texttt{--}del-category=\textless id\textgreater] Remove a categoria com o identificador especificado.

  \item[\texttt{--}set-category=\textless id\textgreater \space
        \texttt{--}name=\textless nome\textgreater] Altera o nome descritivo da categoria com o identificador especificado.

  \item[\texttt{--}list-category] Mostra as informações de todas as categorias cadastradas.

  \item[\texttt{--}list-category=\textless id\textgreater] Mostra informações da categoria especificada.

\end{description}

  \item \textbf{Controle de Entidade:}

\begin{description}

  \item[\texttt{--}add-entity=\textless id\textgreater \space
        \texttt{--}category=\textless id\_categoria\textgreater \space
        \texttt{--}name=\textless nome\textgreater] Adiciona uma entidade com o identificador, categoria e nome descritivo especificado.

  \item[\texttt{--}del-entity=\textless id\textgreater] Remove a entidade com o identificador especificado.

  \item[\texttt{--}set-entity=\textless id\textgreater \space
        \texttt{--}name=\textless nome\textgreater] Altera o nome descritivo da entidade com o identificador especificado.

  \item[\texttt{--}list-entity] Mostra as informações de todas as entidades cadastradas.

  \item[\texttt{--}list-entity=\textless id\textgreater] Mostra informações da entidade especificada.

  \item[\texttt{--}list-entity\space
        \texttt{--}category=\textless id\_categoria\textgreater] Mostra informações das entidades pertencentes a categoria especificada.

\end{description}

  \item \textbf{Controle de Certificado:}

\begin{description}

  \item[\texttt{--}add-certificate=\textless id\_entidade\textgreater \space
        \texttt{--}certificate=\textless certificado\textgreater] Cadastra o certificado para a entidade especificada.

  \item[\texttt{--}del-certificate=\textless id\_entidade\textgreater] Remove o certificado da entidade especificada.

\end{description}

  \item \textbf{Controle de Interface:}

\begin{description}

  \item[\texttt{--}add-interface=\textless interface\textgreater] Adiciona a interface na lista de interfaces permitidas no barramento.

  \item[\texttt{--}del-interface=\textless interface\textgreater] Remove a interface da lista de interfaces permitidas no barramento.

  \item[\texttt{--}list-interface=\textless interface\textgreater] Mostra as interfaces permitidas no barramento.

\end{description}

  \item \textbf{Controle de Autorização:}

\begin{description}

  \item[\texttt{--}set-authorization=\textless id\_entidade\textgreater \space
        \texttt{--}grant=\textless interface\textgreater] Autoriza a entidade a publicar a interface especificada.

  \item[\texttt{--}set-authorization=\textless id\_entidade\textgreater \space
        \texttt{--}revoke=\textless interface\textgreater] Remove a autorização da entidade de publicar a interface especificada.

  \item[\texttt{--}list-authorization] Mostra todas as autorizações concedidas no barramento.

  \item[\texttt{--}list-authorization=\textless id\_entidade\textgreater] Mostra todas as autorizações da entidade especificada.

  \item[\texttt{--}list-authorization 
        \texttt{--}interface=``\textless interface1\textgreater \space
          \textless interface1\textgreater \dots 
          \textless interfaceN\textgreater''] Mostra todas as autorizações contendo as interfaces especificadas.

\end{description}

  \item \textbf{Controle de Ofertas:}

\begin{description}

  \item[\texttt{--}del-offer] Lista todas as ofertas publicadas no barramento e aguarda a escolha de uma oferta para ser removida.

  \item[\texttt{--}del-offer \texttt{--}entity=\textless id\textgreater] Lista todas as ofertas publicadas pela entidade especificada e aguarda a escolha de uma oferta para ser removida.

  \item[\texttt{--}list-offer] Lista todas as ofertas publicadas no barramento.

  \item[\texttt{--}list-offer=\textless id\textgreater] Lista todas as ofertas publicadas pela entidade especificada.

  \item[\texttt{--}list-props] Lista todas as ofertas publicadas no barramento e aguarda a escolha de uma oferta para listar todas as suas propriedades.

  \item[\texttt{--}list-props=\textless id\textgreater] Lista todas as ofertas publicadas pela entidade especificada e aguarda a escolha de uma oferta para listar todas as suas propriedades.

\item \end{description}

  \item \textbf{Controle de Logins:}

\begin{description}

  \item[\texttt{--}del-login=\textless id\textgreater] Remove o login especificado.

  \item[\texttt{--}list-login] Mostra todos os logins ativos no barramento.

  \item[\texttt{--}list-login \texttt{--}entity=\textless id\textgreater] Mostra todos os logins ativos da entidade especificada.

\end{description}

  \item \textbf{Script:}

\begin{description}

  \item[\texttt{--}script] Executa um script \lua{} com um lote de comandos.

  \item[\texttt{--}undo-script] Desfaz a execução de um script \lua{} com um lote de comandos.

\end{description}

  \item \textbf{Relatório:}

\begin{description}

  \item[\texttt{--}report] Constrói um relatório sobre o estado atual do barramento.

\end{description}

\end{itemize}

\subsection{\openbus{} para Desenvolvedores}

Como desenvolvedores, nos referimos aos responsáveis por implementar a integração de seus respectivos serviços e aplicações ao barramento.
Como informando na seção~\ref{subsec:barramento}, oferecemos uma biblioteca de acesso, que implementa o protocolo e exporta uma API de programação, que oferece alguns facilitadores e auxilia a interação com o barramento.
Para maiores informações, consulte o manual de uso da biblioteca de acesso, que é disponibilizada em C++~\cite{sdk2.0.0-cpp}, C\#~\cite{sdk2.0.0-csharp}, Java~\cite{sdk2.0.0-java} e Lua~\cite{sdk2.0.0-lua}.


\include{glossary}

\bibliographystyle{plain}
\bibliography{../references}

\end{document}
