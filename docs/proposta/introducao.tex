\section{Introdução}
\label{introducao}

Os profissionais da área de Exploração e Produção da Petrobras utilizam
 diversas aplicações computacionais no desempenho de suas atividades técnicas.
Por exemplo, as tarefas relacionadas à aquisição, processamento e interpretação
 de dados sísmicos exigem a participação de diferentes profissionais, e cada
 profissional pode necessitar de várias aplicações.
O fato de uma única aplicação não dar suporte a todas as fases do trabalho e,
 às vezes, nem mesmo a uma fase inteira, é fruto da elevada complexidade
 técnica inerente à manipulação desses dados.
Essa complexidade se reflete diretamente nas aplicações, forçando um alto grau
 de especialização, e praticamente torna impossível a construção de uma
 aplicação que permeie todas as fases de trabalho sobre um dado.

Uma decorrência direta dessa pluralidade de aplicações utilizadas para a
 manipulação de um dado é a necessidade de integração.
Afinal, para que o trabalho seja realizado, é preciso que os dados sejam
 migrados de uma aplicação para outra, até que o resultado final seja
 alcançado.
Em resumo, a capacidade de integração entre aplicações é um suporte essencial
 para o trabalho dos profissionais da área de E\&P.

Ao longo de um ciclo de trabalho, um profissional carrega um dado em uma
 aplicação e, através das funcionalidades providas por esta aplicação, manipula
 o dado como necessário.
Em uma situação típica, o profissional manipula o dado até o limite oferecido
 pela aplicação e, então, transporta o dado para outra aplicação de forma a
 continuar seu trabalho.
Entretanto, na prática, essa troca de dados entre duas aplicações não
 necessariamente é feita de forma simples ou até mesmo satisfatória.

Diferentes aplicações da área de E\&P possuem formas próprias de representar e
 armazenar os dados.
Além disso, a quantidade e a variedade de atributos e meta-informações
 relacionadas a um mesmo tipo de dado também podem ser diferentes.
A falta de padronização gera dificuldades na troca de dados entre as aplicações
 que, muitas vezes, acaba sendo feita manualmente pelo próprio usuário.
A integração manual consiste na exportação dos dados em algum formato
 padronizado de arquivo na aplicação de origem, a carga desse arquivo na
 aplicação destino e os ajustes necessários para que eventuais informações
 adicionais, não representadas no arquivo gerado, sejam criadas corretamente no
 destino.
Essa forma de integração é fraca, pois obriga o usuário a assumir o papel de
 integrador e abre a possibilidade de perda das informações que porventura não
 sejam representadas no formato de arquivo utilizado.
Em uma situação extrema, as aplicações podem não compartilhar um formato comum
 de arquivo, o que pode inviabilizar a troca de dados entre elas.

Quando as aplicações são desenvolvidas internamente pela Petrobras, ou possuem
 código aberto, ou, ainda, dispõem de interfaces para programação de extensões,
 a integração por ser feita de forma programática direta.
Essa integração {\em ad hoc} entre duas aplicações facilita substancialmente o
 trabalho do usuário que, ao invés de trocar arquivos e configurações entre as
 aplicações, apenas comanda a transferência dos dados.
Além disso, a integração programática pode considerar, além dos dados, os
 atributos e meta-informações que sejam comuns, ou convertíveis, entre as
 aplicações, maximizando a qualidade do dado trocado e diminuindo as eventuais
 perdas de informações desse processo.
Essa forma de integração também está presente, eventualmente, entre aplicações
 de um mesmo fabricante, como é o caso das aplicações de geologia e geofísica
 da Landmark.

Dois exemplos de integração programática direta entre aplicações próprias da
 Petrobras são a integração v3o2/WebSintesi e a WebSintesi/SIGEO.
A integração v3o2/WebSintesi é feita através de uma interface de acesso à área
 de projetos própria do WebSintesi que é acessada pelo v3o2.
Dessa forma, o v3o2 tem acesso aos projetos do WebSintesi, podendo ler e
 escrever arquivos nos projetos.
A integração WebSintesi/SIGEO é feita de forma análoga: uma interface de acesso
 específica para aos projetos do SIGEO é acessada pelo WebSintesi que, através
 dela, consegue criar novos objetos nos projetos SIGEO.

A integração direta entre aplicações é, sem dúvida, melhor do que a integração
 externa, feita pelo usuário através da troca de arquivos e ajustes manuais.
Entretanto, o esforço necessário na infra-estrutura para integrar as aplicações
 é muito grande, pois precisamos codificar uma {\em ponte} específica para
 ligar cada par de aplicações.
Isso nos leva a um número quadrático de codificações de pontes em relação ao
 número de aplicações.
A cada nova aplicação a ser integrada, é preciso codificar uma ponte que
 integre esta nova aplicação com cada uma das aplicações já existentes, o que
 significa (\(\frac{n(n-1)}{2}\)) codificações para $n$ aplicações.
Por exemplo, para integrar 10 aplicações precisamos codificar 45 pontes.

Se a integração direta entre os pares de aplicações demanda um esforço muito
 elevado, a adoção de aplicações de um mesmo fabricante, que possuem
 funcionalidades de integração intrínsecas, é direta mas insuficiente.
Afinal, nenhum fabricante possui um conjunto de aplicações que atenda a
 totalidade das funcionalidades exigidas pelos profissionais nos seus ciclos de
 trabalho.
Por outro lado, mesmo que um fabricante possuísse tal conjunto de aplicações,
 dificilmente sua adoção seria desejável, dada a total dependência que se
 estabeleceria deste fabricante.

Uma abordagem alternativa para as integrações externa (via arquivos) e direta
 (via pontes entre os pares) é a adoção de uma plataforma comum de integração
 entre aplicações.
O princípio básico de uma plataforma de integração é definir um componente ou
 um {\em barramento} comum através do qual todas as aplicações possam trocar
 dados.
Nesse modelo, cada aplicação se conecta ao barramento, segundo um protocolo
 próprio deste barramento, e carrega ou exporta dados para outras aplicações
 também conectadas ao barramento.

Como na integração direta, é necessário codificar uma ponte para conectar cada
 aplicação ao barramento.
Também como na integração direta, o fato de se estabelecer uma interface e de
 se codificar uma ponte específica, permite maximizar a qualidade do dado
 trocado entre as aplicações, minimizando a eventual perda de informações
 decorrente da heterogeneidade dessas aplicações.
Por outro lado, como o barramento define uma linguagem comum entre todas as
 aplicações, a codificação de uma ponte entre uma aplicação e o barramento é o
 suficiente para que esta aplicação se integre a todas as demais aplicações
 conectadas ao barramento.
Ou seja, diferente da abordagem de integração direta, onde o esforço de
 infra-estrutura é quadrático, a integração por meio de um barramento exige um
 esforço linear em função do número de aplicações.
De fato, para integrar $n$ aplicações, é preciso codificar apenas $n$ pontes.

Outra vantagem significativa da integração através de um barramento comum é a
 possibilidade de criarmos {\em ligações ativas} entre as aplicações.
Uma ligação ativa é uma ligação através da qual uma aplicação pode perceber
 mudanças nos dados de outra aplicação.
Ou seja, por meio de uma ligação ativa duas aplicações podem trocar mensagens
 ao invés de apenas dados.
Através das ligações ativas podemos criar integrações onde as aplicações
 trocam informações dinamicamente, à medida em que o usuário interage com cada
 uma.
Por exemplo, se uma aplicação permite a visualização de um dado proveniente de
 outra aplicação, é possível refletir na tela uma modificação que seja feita no
 dado original imediatamente após essa modificação ter sido feita na aplicação
 que hospeda esse dado.
Além disso, podemos explorar essa forma de comunicação entre as aplicações
 para, por exemplo, permitir o trabalho colaborativo entre usuários.

Na área de E\&P, existem soluções de mercado que implementam arquiteturas de
 integração de aplicações.
Entretanto, como veremos na seção seguinte, essas soluções são limitadas e não
 atendem a todos os requisitos de integração do E\&P da Petrobras.
Em função dessas limitações, e do fato desta abordagem de integração se mostrar
 como a mais adequada, nós propomos, neste documento, a construção de uma
 arquitetura de integração baseada em um barramento, que chamamos de OpenBus.

Na seção seguinte, além da apresentação e da análise das soluções de mercado,
 nós apresentamos as tecnologias que podem ser utilizadas na construção de uma
 arquitetura de integração e avaliamos cada uma em função dos requisitos
 impostos pelas aplicações de E\&P.
Na seção \ref{arquitetura}, nós descrevemos a arquitetura OpenBus,
 explicitando os requisitos contemplados e detalhando os serviços que serão
 providos pela arquitetura.
Por fim, na seção \ref{conclusoes}, concluímos este documento, sintetizando
 os benefícios da arquitetura proposta.

